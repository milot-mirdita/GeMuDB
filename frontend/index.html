<!doctype html>
<html>
<head>
	<title>SNPdbe 2.0</title>
	<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/bootstrap.min.css" />
	<link rel="stylesheet" href="css/style.css" />
	<link rel="icon" href="img/favicon.ico" type="image/x-icon" /> 
</head>
<body>
<div class="container">
	<div class="row">
		<div id="search_container" class="span8 offset2">
			<div class="header">
				SNPdbe
			</div>
			<div class="search" data-bind="template: { name: 'search_template' }"></div>
		</div>
	</div>

	<div id="result_container">
		<div id="top_bar_container" class="row">
			<div class="search span3" data-bind="template: { name: 'search_template' }"></div>
			<div id="flot_overview_container" class="span9">
				<div class="seeker" data-bind="drag: sequenceOffsetCallback"></div>
				<div id="flot_overview"  style="width:715px; height:40px"></div>
			</div>
		</div>
		
		<div id="functional_effect_container" class="result">
			<div class="row">
				<div id="active_types" class="btn-group span2" data-toggle="buttons-checkbox">
					  <button class="btn active"
		data-bind="typeclick: 'SNAP'">SNAP2</button>
					  <button class="btn"
		data-bind="typeclick: 'SIFT'">SIFT</button>
				</div>
				<div id="active_alphabet" class="btn-group span9" data-toggle="buttons-checkbox" data-bind="alphabetclick: true">
			  		<button class="btn active a">A</button>
			  		<button class="btn active c">C</button>
			  		<button class="btn active d">D</button>
			  		<button class="btn active e">E</button>
			  		<button class="btn active f">F</button>
			  		<button class="btn active g">G</button>
			  		<button class="btn active h">H</button>
			  		<button class="btn active i">I</button>
			  		<button class="btn active k">K</button>
			  		<button class="btn active l">L</button>
			  		<button class="btn active m">M</button>
			  		<button class="btn active n">N</button>
			  		<button class="btn active p">P</button>
			  		<button class="btn active q">Q</button>
			  		<button class="btn active r">R</button>
			  		<button class="btn active s">S</button>
			  		<button class="btn active t">T</button>
			  		<button class="btn active v">V</button>
			  		<button class="btn active w">W</button>
			  		<button class="btn active y">Y</button>
				</div>
			</div>
			<div class="row">
				<div class="span12">
					<div id="flot_details"  style="width:926px; height:60px;"></div>

					<span class="sequence monospace" data-bind="text: slicedProtein.sequence()"></span>
					<span class="id" data-bind="text: slicedProtein.refid()"></span>
					<span class="prediction" data-bind="foreach: slicedProtein.predictions">
						<span class="type" data-bind="text: type"></span>
						<span class="reliability" data-bind="text: reliability"></span>
						<span class="conservation" data-bind="text: conservation"></span>
					</span>
				</div>
			</div>
		</div>
		<div id="protein_detail_container" >
			<div class="progress" data-bind="visible : !proteinDetail()"></div>
			<div data-bind="if : proteinDetail()">
			<div data-bind="template: { name: 'protein_detail_template', data: proteinDetail }"></div>
			</div>
		</div>
		<div class="row">
			<div id="functional_effect_list_container" class="result span7" style="height: 300px">
				<div class="progress" data-bind="visible : !listResult()">
				</div>

				<ul class="positions" data-bind="visible : listResult(), template: { name: 'prediction_list_entry_template', foreach: listResult }, listclick: showDetailView"></ul>
			</div>
			<div id="snp_container" class="result span5" data-bind="if: snpDetails()">
				<h1>Informations</h1>
				<h2>SNAP2-Score</h2>
				<span data-bind="text: snpDetails()[0].score"></span>
				<h2>Sift-Score</h2>
				<span data-bind="text: snpDetails()[1].score"></span>
			</div>
		</div>
	</div>
	<div class="push"></div>
</div>

<div id="footer_container">
	<div id="footer_content">
		<div class="menu row-fluid">
			<div class="span2">
				<img src="img/rost_small.png" />
			</div>
			<div class="span10">
				<span>Api</span>
				<span>Database<span>
			</div>
		</div>
	</div>
</div>

<script type="text/html" id="protein_detail_template">
	<dt>Organism name: </dt>
    <dd data-bind="text: organismName"></dd>
 
    <dt>Definition: </dt>
    <dd data-bind="text: definition"></dd>
 
    <dt>Gen name: </dt>
    <dd data-bind="text: officialGenFullName"></dd>
 
    <dt>Gen Symbol:</dt>
    <dd data-bind="text: officialGenSymbol"></dd>

    <dt>Gen Location:</dt>
    <dd data-bind="text: genLocation"></dd>

    <dt>Source:</dt>
    <dd data-bind="text: source"></dd>
</script>
<script type="text/html" id="search_template">
	<form class="form-horizontal">
		<input data-bind="value: protein, popover: { placement: 'bottom'}" data-original-title="test" data-content="test" />
		<button class="btn" data-bind="click: searchProtein">Go</button> 
	</form>
</script>

<script type="text/html" id="prediction_list_entry_template">
	<li>
		<span class="position" data-bind="text: position"></span>
		<ul class="mutations" data-bind="attr: { id: 'mutation' + position }, foreach: { data: mutations, afterRender: $root.formatListResult }">
			<li class="section" data-bind="text: aa"></li>
		</ul>
	</li>
</script>

<script src="js/jquery-1.7.2.min.js"></script>
<script src="js/jquery.flot.min.js"></script>
<script src="js/jquery.event.drag-2.0.min.js"></script>
<script src="js/jquery.scrollTo-1.4.2-min.js"></script>
<script src="js/underscore-min.js"></script>
<script src="js/knockout-2.0.0.debug.js"></script>
<script src="js/knockout.mapping-latest.js"></script>
<script src="js/sammy-latest.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/app.js"></script>
</body>
</html>
